<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BPMN Diagram Viewer</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #canvas {
      width: 100%;
      height: 100%;
      border: 1px solid #ccc;
    }

    .error {
      color: red;
      padding: 20px;
      font-family: monospace;
    }
  </style>
  <script src="https://unpkg.com/bpmn-js@11.5.0/dist/bpmn-viewer.development.js"></script>
</head>
<body>
  <div id="canvas"></div>

  <script>
    const bpmnXML = `<!--__BPMN_XML__-->`;

    const viewer = new BpmnJS({
      container: '#canvas'
    });

    viewer.importXML(bpmnXML).then(() => {
      const canvas = viewer.get('canvas');
      canvas.zoom('fit-viewport');
    }).catch(err => {
      document.body.innerHTML = '<div class="error"><h2>⚠️ BPMN rendering failed:</h2><pre>' +
        err.message + '</pre></div>';
      console.error(err);
    });
  </script>
</body>
</html>
